import React from 'react';
import type { PaymentOption } from '../types';

interface PaymentSimulationModalProps {
    option: PaymentOption;
    onClose: () => void;
    onConfirm: (points: number) => void;
    paymentMethod: 'PayPal' | 'ClickBank';
}

const PaymentSimulationModal: React.FC<PaymentSimulationModalProps> = ({ option, onClose, onConfirm, paymentMethod }) => {

    const handleConfirm = () => {
        onConfirm(option.points);
        onClose();
    };

    const paymentMethodLogo = paymentMethod === 'PayPal' ? (
        <svg className="w-24" viewBox="0 0 160 44" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M4.15 41.871H15.8c4.08 0 7.02-.78 8.82-2.34 1.8-1.56 2.7-3.81 2.7-6.75 0-2.1-.42-3.81-1.26-5.13-1.02-1.56-2.58-2.61-4.68-3.15l-1.08-.27c-2.4-.63-4.23-1.56-5.49-2.79-.9-1.08-1.35-2.43-1.35-4.05 0-2.43.81-4.29 2.43-5.58 1.62-1.29 3.96-1.95 7.02-1.95 2.73 0 5.07.6 7.02 1.8 1.95 1.2 3.24 2.91 3.87 5.13l-10.71.03c-.21-1.2-.81-2.1-1.8-2.7-.99-.6-2.25-.9-3.78-.9-1.83 0-3.21.39-4.14 1.17-.93.78-1.395 1.83-1.395 3.15 0 1.29.39 2.31 1.17 3.06.78.75 2.19 1.35 4.23 1.8l1.08.27c3.15.81 5.4 1.95 6.75 3.42 1.35 1.47 2.025 3.45 2.025 5.94 0 2.85-.9 5.04-2.7 6.57-1.8 1.53-4.5 2.295-8.1 2.295H4.15v-41.85z" className="fill-[#003087]"></path><path d="M57.97 41.871h11.64c6.39 0 9.81-2.4 10.26-7.2l-10.44.03c-.15 1.35-.9 2.4-2.25 3.15-1.35.75-3.09 1.125-5.22 1.125h-4.41V9.981h11.16c4.05 0 6.66 1.08 7.83 3.24 1.17 2.16 1.14 4.92.09 7.29l-10.53.09c.12-1.26.03-2.67-.81-3.69-.84-1.02-2.16-1.53-3.96-1.53h-3.87v9.45h2.34c3.6 0 6.3-.9 8.1-2.7.99-1.05 1.62-2.4 1.89-4.05l10.83-.03c-.45 5.31-4.02 8.49-10.71 9.48v.21c2.25.36 4.23.87 5.94 1.53 2.16.84 3.78 2.16 4.86 3.96 1.08 1.8 1.62 3.96 1.62 6.48 0 3.33-.96 5.94-2.88 7.83-1.92 1.89-4.74 2.835-8.46 2.835H57.97V41.871zM116.35 4.161h-11.64c-1.29 0-2.31.39-3.06 1.17-.75.78-.93 1.8-.54 3.06l10.05 29.31h11.7l-10.05-29.31c-.39-1.26-1.35-2.22-2.91-2.22l.45-.03z" className="fill-[#003087]"></path><path d="M102.7 9.981l-10.29 30.15h11.25l2.07-6.57h10.98l.99 3.12c.48 1.53 1.53 2.43 3.15 2.43H134.41l-11.7-34.11h-12.06l-7.95 24.54zm12.33 16.83l3.6-11.07 3.6 11.07h-7.2z" className="fill-[#003087]"></path><path d="M4.15 41.871H15.8c4.08 0 7.02-.78 8.82-2.34 1.8-1.56 2.7-3.81 2.7-6.75 0-2.1-.42-3.81-1.26-5.13-1.02-1.56-2.58-2.61-4.68-3.15l-1.08-.27c-2.4-.63-4.23-1.56-5.49-2.79-.9-1.08-1.35-2.43-1.35-4.05 0-2.43.81-4.29 2.43-5.58 1.62-1.29 3.96-1.95 7.02-1.95 2.73 0 5.07.6 7.02 1.8 1.95 1.2 3.24 2.91 3.87 5.13l-10.71.03c-.21-1.2-.81-2.1-1.8-2.7-.99-.6-2.25-.9-3.78-.9-1.83 0-3.21.39-4.14 1.17-.93.78-1.395 1.83-1.395 3.15 0 1.29.39 2.31 1.17 3.06.78.75 2.19 1.35 4.23 1.8l1.08.27c3.15.81 5.4 1.95 6.75 3.42 1.35 1.47 2.025 3.45 2.025 5.94 0 2.85-.9 5.04-2.7 6.57-1.8 1.53-4.5 2.295-8.1 2.295H4.15v-41.85z" className="fill-[#009cde]"></path><path d="M57.97 41.871h11.64c6.39 0 9.81-2.4 10.26-7.2l-10.44.03c-.15 1.35-.9 2.4-2.25 3.15-1.35.75-3.09 1.125-5.22 1.125h-4.41V9.981h11.16c4.05 0 6.66 1.08 7.83 3.24 1.17 2.16 1.14 4.92.09 7.29l-10.53.09c.12-1.26.03-2.67-.81-3.69-.84-1.02-2.16-1.53-3.96-1.53h-3.87v9.45h2.34c3.6 0 6.3-.9 8.1-2.7.99-1.05 1.62-2.4 1.89-4.05l10.83-.03c-.45 5.31-4.02 8.49-10.71 9.48v.21c2.25.36 4.23.87 5.94 1.53 2.16.84 3.78 2.16 4.86 3.96 1.08 1.8 1.62 3.96 1.62 6.48 0 3.33-.96 5.94-2.88 7.83-1.92 1.89-4.74 2.835-8.46 2.835H57.97V41.871zM116.35 4.161h-11.64c-1.29 0-2.31.39-3.06 1.17-.75.78-.93 1.8-.54 3.06l10.05 29.31h11.7l-10.05-29.31c-.39-1.26-1.35-2.22-2.91-2.22l.45-.03z" className="fill-[#009cde]"></path><path d="M102.7 9.981l-10.29 30.15h11.25l2.07-6.57h10.98l.99 3.12c.48 1.53 1.53 2.43 3.15 2.43H134.41l-11.7-34.11h-12.06l-7.95 24.54zm12.33 16.83l3.6-11.07 3.6 11.07h-7.2z" className="fill-[#009cde]"></path></svg>
    ) : (
        <svg className="w-24 h-auto text-white" viewBox="0 0 100 35" xmlns="http://www.w3.org/2000/svg" fill="currentColor">
            <path d="M8.82 23.95c0-1.82.3-3.39.9-4.7.6-1.32 1.48-2.37 2.63-3.16 1.15-.8 2.5-1.37 4.04-1.72 1.54-.35 3.08-.52 4.62-.52 1.85 0 3.52.22 4.99.66 1.47.44 2.72 1.1 3.75 1.98.05 1.1-.03 2.1-.23 3s-.5 1.7-.9 2.4c-.4.7-.82 1.25-1.27 1.64-.45.4-.85.6-1.2.6-.55 0-.95-.23-1.2-.7-.25-.47-.38-.95-.38-1.45 0-.5.15-1 .44-1.5.3-.5.7-.93 1.2-1.3.5-.37 1.07-.65 1.7-.85s1.25-.3 1.85-.3c1.1 0 2 .25 2.7.75s1.12 1.2 1.25 2.1c.12.9.12 1.82.02 2.75-.1 1-.3 1.88-.6 2.65-.3.77-.7 1.44-1.2 2-.5.56-.98 1-1.45 1.3-.47.3-.85.45-1.15.45-.6 0-1-.25-1.3-.75-.3-.5-.45-1-.45-1.5s.12-1 .35-1.5c.23-.5.55-.95.95-1.35s.85-.75 1.35-1.05c.5-.3.97-.53 1.4-.7.43-.17.8-.3 1.1-.4.3-.1.5-.2.6-.3.1-.1.15-.25.15-.45 0-.3-.1-.5-.3-.6s-.5-.2-.9-.2c-.35 0-.7.05-1.05.15s-.7.2-1.05.3c-.7.2-1.35.3-2 .3-1.15 0-2.2-.25-3.15-.75s-1.7-1.2-2.25-2.1c-.55-.9-.82-1.95-.82-3.15 0-1.15.2-2.2.6-3.15.4-.95 1-1.75 1.8-2.4s1.75-1.12 2.85-1.45c1.1-.32 2.2-.48 3.3-.48.9 0 1.75.1 2.55.3.8.2 1.5.5 2.1.9.6.4 1.1.9 1.5 1.5.4.6.6 1.25.6 2 0 .5-.1.95-.3 1.35-.2.4-.45.75-.75 1.05-.3.3-.65.5-1.05.6-.4.1-.85.15-1.35.15-1.4 0-2.6-.4-3.6-1.2s-1.5-1.85-1.5-3.1c0-1.2.35-2.2 1.05-3 .7-.8 1.6-1.2 2.7-1.2.5 0 1 .1 1.5.3.5.2 1 .45 1.5.75l1.05-1.4c-.5-.3-1.05-.55-1.65-.75-.6-.2-1.25-.3-2-.3-1.4 0-2.75.25-4.05.75-1.3.5-2.4 1.2-3.3 2.1-.9.9-1.6 2-2.1 3.3-.5 1.3-.75 2.75-.75 4.35 0 1.25.2 2.4.6 3.45.4 1.05.95 1.9 1.65 2.55.7.65 1.5 1.12 2.4 1.4.9.28 1.85.42 2.85.42 1.1 0 2.15-.15 3.15-.45s1.9-.75 2.7-1.35c.05.8.02 1.5-.07 2.1-.1.6-.3 1.15-.6 1.65s-.6.9-1 1.2c-.4.3-.75.45-1.05.45-.6 0-1-.2-1.3-.6-.3-.4-.45-.8-.45-1.2s.13-.8.4-1.2c.27-.4.6-.75 1-1.05.4-.3.8-.5 1.2-.6.4-.1.75-.15 1.1-.15.9 0 1.7.2 2.4.6.7.4 1.2.9 1.5 1.5s.45 1.25.45 2c0 .8-.15 1.5-.45 2.1-.3.6-.7 1.1-1.2 1.5-.5.4-1.05.7-1.65.9-.6.2-1.2.3-1.8.3-1.25 0-2.4-.3-3.45-.9s-1.9-1.4-2.55-2.4c-.65-1-.98-2.1-.98-3.3zM40.06 20.3c.3-1.8.45-3.5.45-5.1 0-1.6-.15-3.15-.45-4.65l-1.95.3c.25 1.45.38 2.9.38 4.35s-.13 2.85-.38 4.25l1.95.3zm-1.2-10.8l-1.3-1.4c-.5-.45-1-.8-1.5-1.05-.5-.25-1-.4-1.5-.4-1.2 0-2.1.5-2.7 1.5-.6 1-.9 2.3-.9 3.9 0 1.6.3 2.95.9 4.05.6 1.1 1.5 1.65 2.7 1.65.5 0 1-.15 1.5-.45s1-.7 1.5-1.15l1.3 1.3c-.6.5-1.2.9-1.8 1.2-.6.3-1.25.45-1.95.45-1.4 0-2.6-.5-3.6-1.5-1-1-1.5-2.4-1.5-4.2s.5-3.2 1.5-4.2c1-1 2.2-1.5 3.6-1.5.7 0 1.35.15 1.95.45.6.3 1.2.7 1.8 1.2zM52.38 3.55h2.1l5.4 17.5h.1l5.4-17.5h2.1v20.4h-1.9V8.85h-.1l-5.8 15.1h-1.6l-5.8-15.1h-.1v15.1h-1.9V3.55zM79.4 16.1c0 1.2-.4 2.2-1.2 3-.8.8-1.8 1.2-3 1.2-.6 0-1.2-.1-1.8-.3s-1.1-.5-1.5-.9l1.2-1.5c.3.3.7.5 1.1.6.4.1.8.15 1.2.15.6 0 1.1-.15 1.5-.45.4-.3.6-.7.6-1.2 0-.3-.1-.5-.3-.7-.2-.2-.5-.35-.9-.45-1.1-.3-2-.7-2.7-1.2-.7-.5-1-1.1-1-1.8 0-.6.2-1.1.6-1.5.4-.4.9-.6 1.5-.6.5 0 1 .1 1.5.3.5.2 1 .5 1.5.9l-1 1.6c-.3-.2-.6-.4-1-.5-.4-.1-.8-.15-1.1-.15-.5 0-.9.1-1.2.3-.3.2-.45.5-.45.9 0 .3.1.5.3.7.2.2.5.3.9.4 1.1.2 2 .55 2.7 1 .7.45 1.1 1.05 1.1 1.8zM92.11 3.55l-4.5 9-4.5-9h-2.3v20.4h1.9V8.85h.1l4.4 9.1h1.2l4.4-9.1h.1v15.1h1.9V3.55h-2.3z" />
        </svg>
    );

    return (
        <div className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4" onClick={onClose} role="dialog" aria-modal="true" aria-labelledby="payment-title">
            <div className="bg-[--color-bg-secondary] rounded-lg shadow-xl w-full max-w-sm" onClick={e => e.stopPropagation()}>
                <div className="p-6">
                    <div className="flex justify-between items-start mb-4">
                        <div>
                            <h2 id="payment-title" className="text-xl font-bold text-[--color-text-primary]">Confirm Purchase</h2>
                            <p className="text-sm text-[--color-text-muted]">You are purchasing points for TubeBoost</p>
                        </div>
                        <button onClick={onClose} className="text-4xl leading-none text-[--color-text-muted] hover:text-[--color-text-primary] transition-colors" aria-label="Close dialog">&times;</button>
                    </div>
                    <div className="bg-[--color-bg-tertiary] rounded-lg p-4 my-6 space-y-2">
                         <div className="flex justify-between items-center text-[--color-text-secondary]">
                             <span>Item:</span>
                             <span className="font-bold text-[--color-text-primary]">{option.points.toLocaleString()} Points</span>
                         </div>
                         <div className="flex justify-between items-center text-[--color-text-secondary]">
                             <span>Price:</span>
                             <span className="font-bold text-[--color-text-primary]">${option.price.toFixed(2)}</span>
                         </div>
                         <div className="border-t border-[--color-border] my-2"></div>
                         <div className="flex justify-between items-center text-lg font-bold text-[--color-text-primary]">
                             <span>Total:</span>
                             <span>${option.price.toFixed(2)}</span>
                         </div>
                    </div>
                     <div className="text-center mb-4 text-white">
                         {paymentMethodLogo}
                    </div>
                </div>
                <div className="bg-[--color-bg-tertiary] px-6 py-4 flex flex-col items-center space-y-3 rounded-b-lg">
                    <button 
                        onClick={handleConfirm} 
                        className="w-full px-4 py-3 bg-[--color-accent] text-white font-semibold rounded-md hover:bg-[--color-accent-hover] transition"
                    >
                        Pay Now
                    </button>
                    <button
                        type="button"
                        onClick={onClose}
                        className="text-sm text-[--color-text-muted] hover:underline"
                    >
                        Cancel and return
                    </button>
                </div>
            </div>
        </div>
    );
};

export default PaymentSimulationModal;
